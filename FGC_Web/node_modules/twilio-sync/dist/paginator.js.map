{"version":3,"file":"paginator.js","sources":["../src/paginator.ts"],"sourcesContent":["/**\n * Pagination helper class.\n */\nclass Paginator<Item> {\n  private prevToken: string;\n  private nextToken: string;\n  private source: any;\n\n  /**\n   * Array of elements on current page.\n   */\n  public readonly items: Item[];\n\n  /**\n   * @internal\n   */\n  constructor(items: any, source: any, prevToken: string, nextToken: string) {\n    this.prevToken = prevToken;\n    this.nextToken = nextToken;\n\n    this.items = items;\n    this.source = source;\n  }\n\n  /**\n   * Indicates the existence of the next page.\n   */\n  get hasNextPage(): boolean {\n    return !!this.nextToken;\n  }\n\n  /**\n   * Indicates the existence of the previous page.\n   */\n  get hasPrevPage(): boolean {\n    return !!this.prevToken;\n  }\n\n  /**\n   * Request next page.\n   * Does not modify existing object.\n   */\n  async nextPage(): Promise<Paginator<Item>> {\n    if (!this.hasNextPage) {\n      throw new Error('No next page');\n    }\n\n    return this.source(this.nextToken);\n  }\n\n  /**\n   * Request previous page.\n   * Does not modify existing object.\n   */\n  async prevPage(): Promise<Paginator<Item>> {\n    if (!this.hasPrevPage) {\n      throw new Error('No previous page');\n    }\n\n    return this.source(this.prevToken);\n  }\n}\n\nexport { Paginator };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEG;AACH,MAAM,SAAS,CAAA;AAUb;;AAEG;AACH,IAAA,WAAA,CAAY,KAAU,EAAE,MAAW,EAAE,SAAiB,EAAE,SAAiB,EAAA;AACvE,QAAA,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,QAAA,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAE3B,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,QAAA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACtB;AAED;;AAEG;AACH,IAAA,IAAI,WAAW,GAAA;AACb,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;KACzB;AAED;;AAEG;AACH,IAAA,IAAI,WAAW,GAAA;AACb,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;KACzB;AAED;;;AAGG;AACH,IAAA,MAAM,QAAQ,GAAA;AACZ,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;AACjC,SAAA;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACpC;AAED;;;AAGG;AACH,IAAA,MAAM,QAAQ,GAAA;AACZ,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;AACrC,SAAA;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACpC;AACF;;;;"}