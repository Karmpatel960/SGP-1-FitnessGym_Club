{"version":3,"file":"array.js","sources":["../../src/rules/array.ts"],"sourcesContent":["import {\n  convertRuleArgument,\n  RuleArgument,\n  RuleDefinition,\n  validateValue,\n} from \"../type-validator\";\nimport { custom } from \"./custom\";\n\nexport const array = (name: string, rules: RuleArgument): RuleDefinition =>\n  custom((value) => {\n    if (!Array.isArray(value)) {\n      return [false, `an array of ${name}`];\n    }\n\n    for (const [key, valueOfKey] of value.entries()) {\n      const [isValid, received, expected] = validateValue(\n        convertRuleArgument(rules),\n        valueOfKey\n      );\n\n      if (!isValid) {\n        return [\n          false,\n          `a valid array of ${name} (index ${key} should be ${expected})`,\n          `malformed array of ${name} (index ${key} is ${received})`,\n        ];\n      }\n    }\n\n    return [true];\n  });\n"],"names":["custom","validateValue","convertRuleArgument"],"mappings":";;;;;;;;;;;;;;;;;;;AAQa,MAAA,KAAK,GAAG,CAAC,IAAY,EAAE,KAAmB,KACrDA,aAAM,CAAC,CAAC,KAAK,KAAI;AACf,IAAA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACzB,QAAA,OAAO,CAAC,KAAK,EAAE,eAAe,IAAI,CAAA,CAAE,CAAC,CAAC;AACvC,KAAA;IAED,KAAK,MAAM,CAAC,GAAG,EAAE,UAAU,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,EAAE;AAC/C,QAAA,MAAM,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAGC,2BAAa,CACjDC,iCAAmB,CAAC,KAAK,CAAC,EAC1B,UAAU,CACX,CAAC;QAEF,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO;gBACL,KAAK;AACL,gBAAA,CAAA,iBAAA,EAAoB,IAAI,CAAA,QAAA,EAAW,GAAG,CAAA,WAAA,EAAc,QAAQ,CAAG,CAAA,CAAA;AAC/D,gBAAA,CAAA,mBAAA,EAAsB,IAAI,CAAA,QAAA,EAAW,GAAG,CAAA,IAAA,EAAO,QAAQ,CAAG,CAAA,CAAA;aAC3D,CAAC;AACH,SAAA;AACF,KAAA;IAED,OAAO,CAAC,IAAI,CAAC,CAAC;AAChB,CAAC;;;;"}